# Environment variables for running the Rails app locally.
# Copy this file to `.env` and fill in the values. Do NOT commit your real secrets.

# --- Identity Vault (required) ---
# Base URL of Identity Vault API (production or staging)
IDENTITY_URL="https://identity.hackclub.com"
# OAuth client credentials for this app (obtain from Identity Vault)
IDENTITY_CLIENT_ID="your_client_id"
IDENTITY_CLIENT_SECRET="your_client_secret"
# Program-level API key used by /api/verify to fetch identities
IDENTITY_PROGRAM_KEY="your_program_api_key"

# --- HelpScout Beacon (optional) ---
# Set to enable Beacon on all pages. Find these in Help Scout.
# Beacon ID from Beacon Builder
HELPSCOUT_BEACON_ID=""

# --- OAuth callback base URL (required) ---
# Public base URL of this Rails app; used to build redirect_uri for OAuth
# For local dev:
NEXTAUTH_URL="http://localhost:3000"

# --- State HMAC secret (recommended) ---
# Secret used to sign the OAuth state parameter. If not set, falls back to Rails secret_key_base.
STATE_HMAC_SECRET="change_me_to_a_random_64_char_hex"

# --- Database (required for local dev unless DATABASE_URL is set) ---
PGHOST=localhost
PGPORT=5432
PGUSER=postgres
PGPASSWORD=postgres
PGDATABASE=submit_ruby_development
# Alternatively, provide a full URL in production:
# DATABASE_URL=postgres://user:password@host:5432/dbname

# --- Sentry (optional) ---
# Set to enable error reporting
# SENTRY_DSN=https://public_key@oXXXXXXX.ingest.us.sentry.io/XXXXXXX

# --- Host allowlist (recommended in production) ---
# Used to restrict allowed Host headers in production. Not required for local dev.
# APP_HOST=submit.example.com
# APP_HOST_ALT=www.submit.example.com

# --- Program form URL allowlist (optional) ---
# Comma-separated list of allowed hosts for Program#form_url validation.
# Example: only allow Airtable and Typeform
# FORM_URL_ALLOWED_HOSTS=airtable.com,hackclub.com

# --- Rails tuning (optional) ---
# RAILS_MAX_THREADS=5
# RAILS_ENV=development
# RACK_ENV=development
